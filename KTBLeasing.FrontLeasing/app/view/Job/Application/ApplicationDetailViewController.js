/*
 * File: app/view/Job/Application/ApplicationDetailViewController.js
 *
 * This file was generated by Sencha Architect version 3.1.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 5.0.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 5.0.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('TabUserInformation.view.Job.Application.ApplicationDetailViewController', {
    extend: 'Ext.app.ViewController',
    alias: 'controller.jobapplicationapplicationdetail',

    onTabpanelBeforeRender: function (component, eOpts) {
        component.setHeight(Ext.getBody().getViewSize().height * 0.92);
    },

    onButtonSaveClick: function (button, e, eOpts) {
        var form = this.getView().down('form').getForm(),
            seller = this.getView().down('#seller').down('gridpanel').getStore().getData().map,
            formDetail = Ext.getCmp('jobapplicationapplicationdetail').getForm();

        console.log(form);

                formDetail.submit({
                    url: 'api/applicationdetail/dopost',
                    success: function (form, action) {
                        Ext.Msg.alert('Success', 'สำเร็จแล้ว');
                    },
                    failure: function (form, action) {
                        Ext.Msg.alert('Failure', 'ไม่สำเร็จ');
                    }
                });

        //        Ext.Ajax.request({
        //            method: 'post',
        //            cache: false,
        //            url: 'api/applicationdetail/dopost',
        //            params: data,
        //            contentType: "application/json",
        //            success: function (form, action) {
        //                Ext.Msg.alert('Success', "บันทึกข้อมูลเรียบร้อย");
        ////                Ext.getCmp('pagingtoolbar-custinfo').moveFirst();
        ////                button.up('window').close();
        //            },
        //            failure: function (form, action) {
        //                Ext.Msg.alert('Failed', 'กรุณาตรวจสอบว่า ชื่อผู้ใช้มีอยู่ในระบบ?');
        //            }
        //        });
    }

});
